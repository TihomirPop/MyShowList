import{a as O,i as y}from"../chunks/DCGF0svJ.js";import{r as J}from"../chunks/BhhEXevh.js";import"../chunks/DsnmJJEf.js";import{a as K,s as g,b as N,f as _,k as h,B as Q,j as r,m as b,n as V,q as X,g as t,e as o,i as l,$ as Y,v as i,w as Z,y as w,W as ee}from"../chunks/DT7DyGpg.js";import{h as re,r as L,s as p}from"../chunks/B_ysz1NM.js";import{b as A}from"../chunks/CCDdTn80.js";const se=()=>{if(O.isAuthenticated)throw J(302,"/");return{}},pe=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));var ae=_('<div class="error-banner" role="alert"> </div>'),te=_('<span id="username-error" class="error-message svelte-52fghe" role="alert"> </span>'),oe=_('<span id="password-error" class="error-message svelte-52fghe" role="alert"> </span>'),ie=_('<span id="confirm-password-error" class="error-message svelte-52fghe" role="alert"> </span>'),le=_('<div class="register-container svelte-52fghe"><div class="register-card svelte-52fghe"><h1 class="svelte-52fghe">Welcome to MyShowList</h1> <p class="subtitle svelte-52fghe">Register to track your favorite shows</p> <form class="svelte-52fghe"><!> <div class="form-group svelte-52fghe"><label for="username" class="svelte-52fghe">Username</label> <input id="username" type="text" placeholder="Enter your username"/> <!></div> <div class="form-group svelte-52fghe"><label for="password" class="svelte-52fghe">Password</label> <input id="password" type="password" placeholder="Enter your password"/> <!></div> <div class="form-group svelte-52fghe"><label for="confirmPassword" class="svelte-52fghe">Password</label> <input id="confirmPassword" type="password" placeholder="Confirm your password"/> <!></div> <button type="submit" class="btn-primary svelte-52fghe"> </button></form> <p class="login-link svelte-52fghe">Already have an account? <a href="/login" class="svelte-52fghe">Login here</a></p></div></div>');function me(U,W){K(W,!0);let m=g(""),v=g(""),P=g(""),n=g(!1),a=g(N({}));function q(){const e={};return(!r(m)||r(m).trim().length<3)&&(e.username="Username must be at least 3 characters"),(!r(v)||r(v).length<6)&&(e.password="Password must be at least 6 characters"),r(P)!=r(v)&&(e.confirmPassword="Passwords must match"),l(a,e,!0),Object.keys(e).length===0}async function z(e){if(e.preventDefault(),l(a,{},!0),!!q()){l(n,!0);try{const s=await O.register(r(m).trim(),r(v));s.success?ee("/login"):l(a,{general:s.error||"Register failed"},!0)}catch{l(a,{general:"An unexpected error occurred. Please try again."},!0)}finally{l(n,!1)}}}var x=le();re("52fghe",e=>{X(()=>{Y.title="Register - MyShowList"})});var E=o(x),S=t(o(E),4),M=o(S);{var B=e=>{var s=ae(),d=o(s,!0);i(s),h(()=>w(d,r(a).general)),b(e,s)};y(M,e=>{r(a).general&&e(B)})}var k=t(M,2),f=t(o(k),2);L(f);var C=t(f,2);{var D=e=>{var s=te(),d=o(s,!0);i(s),h(()=>w(d,r(a).username)),b(e,s)};y(C,e=>{r(a).username&&e(D)})}i(k);var R=t(k,2),c=t(o(R),2);L(c);var F=t(c,2);{var T=e=>{var s=oe(),d=o(s,!0);i(s),h(()=>w(d,r(a).password)),b(e,s)};y(F,e=>{r(a).password&&e(T)})}i(R);var $=t(R,2),u=t(o($),2);L(u);var G=t(u,2);{var H=e=>{var s=ie(),d=o(s,!0);i(s),h(()=>w(d,r(a).confirmPassword)),b(e,s)};y(G,e=>{r(a).confirmPassword&&e(H)})}i($);var j=t($,2),I=o(j,!0);i(j),i(S),Z(2),i(E),i(x),h(()=>{f.disabled=r(n),p(f,"aria-invalid",!!r(a).username),p(f,"aria-describedby",r(a).username?"username-error":void 0),c.disabled=r(n),p(c,"aria-invalid",!!r(a).password),p(c,"aria-describedby",r(a).password?"password-error":void 0),u.disabled=r(n),p(u,"aria-invalid",!!r(a).confirmPassword),p(u,"aria-describedby",r(a).confirmPassword?"confirm-password-error":void 0),j.disabled=r(n),w(I,r(n)?"Registering...":"Register")}),Q("submit",S,z),A(f,()=>r(m),e=>l(m,e)),A(c,()=>r(v),e=>l(v,e)),A(u,()=>r(P),e=>l(P,e)),b(U,x),V()}export{me as component,pe as universal};
