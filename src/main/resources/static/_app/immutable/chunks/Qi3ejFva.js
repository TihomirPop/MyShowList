import"./DsnmJJEf.js";import{d as Oe,a as Pe,s as w,b as E,D as Ae,j as r,i as h,f as c,e as l,g as s,k as _,B as oe,m as o,n as We,v as i,E as je,y as f,x as He,A as Ne,C as ze}from"./DT7DyGpg.js";import{i as g}from"./DCGF0svJ.js";import{e as Be,b as Fe,g as qe,s as Je}from"./DVctERAW.js";import{r as T,s as b,a as Ke}from"./B_ysz1NM.js";import{b as C}from"./CCDdTn80.js";import{A as Qe}from"./CtVqx6bY.js";var Xe=c('<div class="error-banner" role="alert"> </div>'),Ye=c('<span id="title-error" class="error-message svelte-a84s5t" role="alert"> </span>'),Ze=c('<span id="description-error" class="error-message svelte-a84s5t" role="alert"> </span>'),$e=c('<span id="thumbnail-url-error" class="error-message svelte-a84s5t" role="alert"> </span>'),ea=c('<img alt="Thumbnail preview" class="preview-image svelte-a84s5t"/>'),aa=c('<div class="preview-placeholder svelte-a84s5t"></div>'),ta=c('<div class="thumbnail-preview-container svelte-a84s5t"><span class="preview-label svelte-a84s5t">Preview:</span> <div class="thumbnail-preview svelte-a84s5t"><!></div></div>'),ra=c('<label class="genre-checkbox svelte-a84s5t"><input type="checkbox" class="svelte-a84s5t"/> <span class="genre-label svelte-a84s5t"> </span></label>'),sa=c('<span class="error-message svelte-a84s5t" role="alert"> </span>'),ia=c('<span id="release-date-error" class="error-message svelte-a84s5t" role="alert"> </span>'),la=c('<div class="form-group svelte-a84s5t"><label for="release-date" class="svelte-a84s5t">Release Date *</label> <input id="release-date" type="date"/> <!></div>'),na=c('<span id="episode-count-error" class="error-message svelte-a84s5t" role="alert"> </span>'),da=c('<span id="start-date-error" class="error-message svelte-a84s5t" role="alert"> </span>'),va=c('<span id="end-date-error" class="error-message svelte-a84s5t" role="alert"> </span>'),oa=c('<div class="form-group svelte-a84s5t"><label for="episode-count" class="svelte-a84s5t">Episode Count *</label> <input id="episode-count" type="number" placeholder="Enter episode count" min="1"/> <!></div> <div class="form-row svelte-a84s5t"><div class="form-group svelte-a84s5t"><label for="start-date" class="svelte-a84s5t">Start Date *</label> <input id="start-date" type="date"/> <!></div> <div class="form-group svelte-a84s5t"><label for="end-date" class="svelte-a84s5t">End Date</label> <input id="end-date" type="date"/> <!></div></div>',1),ca=c('<div class="form-card svelte-a84s5t"><h1 class="svelte-a84s5t"> </h1> <p class="subtitle svelte-a84s5t"> </p> <form class="svelte-a84s5t"><!> <div class="form-group svelte-a84s5t"><label for="show-type" class="svelte-a84s5t">Show Type *</label> <select id="show-type" class="select-input"><option>Movie</option><option>TV Series</option></select></div> <div class="form-group svelte-a84s5t"><label for="title" class="svelte-a84s5t">Title *</label> <input id="title" type="text" placeholder="Enter show title" maxlength="255"/> <!></div> <div class="form-group svelte-a84s5t"><label for="description" class="svelte-a84s5t">Description *</label> <textarea id="description" placeholder="Enter show description" rows="5" maxlength="65535"></textarea> <!></div> <div class="form-group svelte-a84s5t"><label for="thumbnail-url" class="svelte-a84s5t">Thumbnail URL *</label> <input id="thumbnail-url" type="url" placeholder="https://example.com/image.jpg" maxlength="2048" pattern="https?://.+"/> <!> <span class="field-hint svelte-a84s5t">Recommended: 2:3 aspect ratio image (e.g., 400Ã—600px). Must be HTTP/HTTPS URL.</span> <!></div> <div class="form-group svelte-a84s5t"><span id="genres-label" class="label svelte-a84s5t">Genres * (select at least one)</span> <div class="genres-grid svelte-a84s5t" role="group" aria-labelledby="genres-label"></div> <!></div> <!> <!> <div class="form-actions svelte-a84s5t"><button type="submit" class="btn-primary submit-btn svelte-a84s5t"> </button> <button type="button" class="btn-secondary cancel-btn svelte-a84s5t">Cancel</button></div></form></div>');function Da(ce,e){Pe(e,!0);let L=w(E(e.initialData?.type||"MOVIE")),G=w(E(e.initialData?.title||"")),O=w(E(e.initialData?.description||"")),D=w(E(e.initialData?.thumbnailUrl||"")),k=w(E(new Set(e.initialData?.genres||[]))),P=w(E(e.initialData?.type==="MOVIE"?e.initialData.releaseDate.split("T")[0]:"")),A=w(E(e.initialData?.type==="TV_SERIES"&&e.initialData.episodeCount!==null?e.initialData.episodeCount:"")),W=w(E(e.initialData?.type==="TV_SERIES"&&e.initialData.startDate?e.initialData.startDate.split("T")[0]:"")),N=w(E(e.initialData?.type==="TV_SERIES"&&e.initialData.endDate?e.initialData.endDate.split("T")[0]:"")),z=w(!1),ae=w("");function ue(){h(z,!0)}Ae(()=>{r(D)!==r(ae)&&(h(ae,r(D),!0),h(z,!1))});const _e=He(()=>r(G).trim().length>0&&r(O).trim().length>0&&r(D).trim().length>0&&r(k).size>0&&(r(L)==="MOVIE"?r(P).length>0:r(A)!==""&&r(W).length>0));function be(a){a.preventDefault(),e.onSubmit({showType:r(L),title:r(G),description:r(O),thumbnailUrl:r(D),selectedGenres:r(k),releaseDate:r(P),episodeCount:r(A),startDate:r(W),endDate:r(N)})}function me(){e.onCancel()}function fe(a){const t=new Set(r(k));t.has(a)?t.delete(a):t.add(a),h(k,t,!0)}var B=ca(),F=l(B),ge=l(F,!0);i(F);var q=s(F,2),he=l(q,!0);i(q);var J=s(q,2),te=l(J);{var De=a=>{var t=Xe(),n=l(t,!0);i(t),_(()=>f(n,e.errors.general)),o(a,t)};g(te,a=>{e.errors.general&&a(De)})}var K=s(te,2),j=s(l(K),2),Q=l(j);Q.value=Q.__value="MOVIE";var re=s(Q);re.value=re.__value="TV_SERIES",i(j),i(K);var X=s(K,2),I=s(l(X),2);T(I);var ye=s(I,2);{var xe=a=>{var t=Ye(),n=l(t,!0);i(t),_(()=>f(n,e.errors.title)),o(a,t)};g(ye,a=>{e.errors.title&&a(xe)})}i(X);var Y=s(X,2),V=s(l(Y),2);je(V);var we=s(V,2);{var Se=a=>{var t=Ze(),n=l(t,!0);i(t),_(()=>f(n,e.errors.description)),o(a,t)};g(we,a=>{e.errors.description&&a(Se)})}i(Y);var Z=s(Y,2),U=s(l(Z),2);T(U);var se=s(U,2);{var Ee=a=>{var t=$e(),n=l(t,!0);i(t),_(()=>f(n,e.errors.thumbnailUrl)),o(a,t)};g(se,a=>{e.errors.thumbnailUrl&&a(Ee)})}var pe=s(se,4);{var Te=a=>{var t=ta(),n=s(l(t),2),v=l(n);{var p=u=>{var m=ea();_(S=>b(m,"src",S),[()=>r(D).trim()]),oe("error",m,ue),ze(m),o(u,m)},y=u=>{var m=aa();_(S=>Je(m,`background: ${S??""};`),[()=>qe(0)]),o(u,m)};g(v,u=>{!r(z)&&r(D).trim()?u(p):u(y,!1)})}i(n),i(t),o(a,t)};g(pe,a=>{r(D).trim().length>0&&(r(D).startsWith("http://")||r(D).startsWith("https://"))&&a(Te)})}i(Z);var $=s(Z,2),ee=s(l($),2);Be(ee,20,()=>Qe,a=>a,(a,t)=>{var n=ra(),v=l(n);T(v),v.__change=()=>fe(t);var p=s(v,2),y=l(p,!0);i(p),i(n),_(u=>{Ke(v,u),v.disabled=e.isLoading,f(y,t)},[()=>r(k).has(t)]),o(a,n)}),i(ee);var Ce=s(ee,2);{var Le=a=>{var t=sa(),n=l(t,!0);i(t),_(()=>f(n,e.errors.genres)),o(a,t)};g(Ce,a=>{e.errors.genres&&a(Le)})}i($);var ie=s($,2);{var Ie=a=>{var t=la(),n=s(l(t),2);T(n);var v=s(n,2);{var p=y=>{var u=ia(),m=l(u,!0);i(u),_(()=>f(m,e.errors.releaseDate)),o(y,u)};g(v,y=>{e.errors.releaseDate&&y(p)})}i(t),_(()=>{n.disabled=e.isLoading,b(n,"aria-invalid",!!e.errors.releaseDate),b(n,"aria-describedby",e.errors.releaseDate?"release-date-error":void 0)}),C(n,()=>r(P),y=>h(P,y)),o(a,t)};g(ie,a=>{r(L)==="MOVIE"&&a(Ie)})}var le=s(ie,2);{var Ve=a=>{var t=oa(),n=Ne(t),v=s(l(n),2);T(v);var p=s(v,2);{var y=d=>{var x=na(),M=l(x,!0);i(x),_(()=>f(M,e.errors.episodeCount)),o(d,x)};g(p,d=>{e.errors.episodeCount&&d(y)})}i(n);var u=s(n,2),m=l(u),S=s(l(m),2);T(S);var Re=s(S,2);{var ke=d=>{var x=da(),M=l(x,!0);i(x),_(()=>f(M,e.errors.startDate)),o(d,x)};g(Re,d=>{e.errors.startDate&&d(ke)})}i(m);var ve=s(m,2),R=s(l(ve),2);T(R);var Me=s(R,2);{var Ge=d=>{var x=va(),M=l(x,!0);i(x),_(()=>f(M,e.errors.endDate)),o(d,x)};g(Me,d=>{e.errors.endDate&&d(Ge)})}i(ve),i(u),_(()=>{v.disabled=e.isLoading,b(v,"aria-invalid",!!e.errors.episodeCount),b(v,"aria-describedby",e.errors.episodeCount?"episode-count-error":void 0),S.disabled=e.isLoading,b(S,"aria-invalid",!!e.errors.startDate),b(S,"aria-describedby",e.errors.startDate?"start-date-error":void 0),R.disabled=e.isLoading,b(R,"aria-invalid",!!e.errors.endDate),b(R,"aria-describedby",e.errors.endDate?"end-date-error":void 0)}),C(v,()=>r(A),d=>h(A,d)),C(S,()=>r(W),d=>h(W,d)),C(R,()=>r(N),d=>h(N,d)),o(a,t)};g(le,a=>{r(L)==="TV_SERIES"&&a(Ve)})}var ne=s(le,2),H=l(ne),Ue=l(H,!0);i(H);var de=s(H,2);de.__click=me,i(ne),i(J),i(B),_(()=>{f(ge,e.mode==="create"?"Add New Show":"Edit Show"),f(he,e.mode==="create"?"Create a new movie or TV series":"Update show details"),j.disabled=e.isLoading||e.mode==="edit",I.disabled=e.isLoading,b(I,"aria-invalid",!!e.errors.title),b(I,"aria-describedby",e.errors.title?"title-error":void 0),V.disabled=e.isLoading,b(V,"aria-invalid",!!e.errors.description),b(V,"aria-describedby",e.errors.description?"description-error":void 0),U.disabled=e.isLoading,b(U,"aria-invalid",!!e.errors.thumbnailUrl),b(U,"aria-describedby",e.errors.thumbnailUrl?"thumbnail-url-error":void 0),H.disabled=e.isLoading||!r(_e),f(Ue,e.isLoading?e.mode==="create"?"Creating...":"Saving...":e.mode==="create"?"Create Show":"Save Changes"),de.disabled=e.isLoading}),oe("submit",J,be),Fe(j,()=>r(L),a=>h(L,a)),C(I,()=>r(G),a=>h(G,a)),C(V,()=>r(O),a=>h(O,a)),C(U,()=>r(D),a=>h(D,a)),o(ce,B),We()}Oe(["change","click"]);export{Da as S};
